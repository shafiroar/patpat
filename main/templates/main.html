{% extends 'base.html' %}

{% block content %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>PatPat</title>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <style>
            body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background:#fff8ff;
            min-height: 100%;
        }

        header {
            background-color: #751A60;
            color: #fff;
            text-align: center;
            padding: 50px;
        }
        .container {
            max-width: 1200px; 
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        .pet-card {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 30px;
            text-align: justify;
            box-shadow: 0 4px 6px rgba(0, 4, 6, 0.3);
            margin-bottom: 10px;
        }
        
        .btn {
            background-color: #751A60;
            color: #fff;
            padding: 10px 20px; 
            border: none;
            border-radius: 20px;
            cursor: pointer;
            margin-top: 10px; 
        }

        h3 {
            font-size: 15px;
            color: #751A60;
            margin-top: 3px;
            margin-bottom: 3px;
        }

        h2 {
            font-size: 20px;
            text-align: center;
            color: #751A60;
            margin-top: 5px;
        }

        .Price{
            font-size: 20px;
            text-align: center;
            color: #24ab3d;
            margin-top: 5px;
            font-weight: bold;
        }

        h5{
            font-size: 10px;
            text-align: center;
            color: #751A60;
        }

        h1 {
            font-size: 30px;
        }

        .pet-card img {
        display: block;
        margin: 0 auto;
        max-width: 100%;
        height: auto;
        border-radius: 15px; /* Adjust the radius value as needed */
        }


        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }

        /*Style the table with headers*/
        th {
            background-color: #751A60;
            color: #fff;
            font-weight: bold;
            text-align: center;
            padding: 10px; 
        }


        .rounded-table {
        border-collapse: separate;
        border-spacing: 0;
        border-radius: 15px; /* Adjust the radius value as needed */
        overflow: hidden; /* This ensures rounded corners are visible */
        }

        td {
            padding: 10px;
            text-align: center;
            border: 5px solid #fff8ff;
            border-radius: 15px; /* Adjust the radius value to match the table */
        }


        button {
            background-color: #751A60;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            text-align: center; 
        }

        .add-product-button {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            margin-bottom: 30px;
            font-weight: bold;
        }

        td.product-name {
            font-weight: bold;
            color: #751A60;
        }
        
        .logout-button {
        text-align: center; 
        margin-top: 20px; 
        margin-bottom: 30px;
        font-weight: bold;
        text-align: center;
        padding: 10px; 
        }

        

    </style>
</head>
<body>
    <header>
        <h1>PatPat Pet Shop</h1>
    </header>
    <div class="container">
        {% for product in products %}
        <div class="pet-card">
            <img src="{{ product.image }}" alt="{{ i.product }}" text-align= center style="max-width:60%; height: auto;">
            <h2>{{ product.product }}</h2>
            <div class="Price">
                <svg height="45px" width="45px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 25.848 25.848" xml:space="preserve" fill="#24ab3d">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <g>
                            <path d="M25.839,4.958c0,3.927-1.712,6.78-1.784,6.899c-0.145,0.237-0.396,0.367-0.655,0.367 c-0.136,0-0.273-0.036-0.397-0.111c-0.362-0.22-0.478-0.691-0.259-1.053c0.016-0.026,1.561-2.623,1.561-6.102 c0-1.984-1.29-3.424-3.068-3.424c-1.692,0-3.068,1.376-3.068,3.069c0,0.721,0.349,2.553,0.483,3.198 c0.087,0.415-0.18,0.821-0.595,0.908c-0.415,0.085-0.821-0.18-0.907-0.594c-0.053-0.253-0.517-2.502-0.517-3.512 C16.633,2.065,18.698,0,21.237,0C23.86,0,25.839,2.131,25.839,4.958z M21.367,6.165c0.305,2.549,0.747,7.516,0.239,8.022 L10.46,25.334c-0.685,0.686-1.798,0.686-2.484-0.001l-7.453-7.452c-0.686-0.685-0.686-1.798,0-2.484L11.67,4.251 c0.177-0.177,2.105-0.185,4.273-0.072C15.931,4.322,15.9,4.457,15.9,4.603c0,0.556,0.123,1.418,0.252,2.176 c-0.227,0.337-0.36,0.742-0.36,
                            1.179c0,1.164,0.944,2.108,2.108,2.108s2.108-0.944,2.108-2.108c0-0.717-0.359-1.349-0.906-1.729 C18.99,5.562,18.9,4.918,18.9,4.603c0-0.068,0.014-0.131,0.02-0.198c0.267,0.028,0.53,0.057,0.779,0.088 C21.172,4.674,21.187,4.671,21.367,6.165z M15.426,14.507c-0.173-0.481-0.461-1.058-1.086-1.722l0.846-0.847l-0.942-0.941 l-0.913,0.914c-1.222-0.837-2.482-0.769-3.337,0.086c-0.932,0.932-0.712,2.115-0.028,3.49c0.47,0.952,0.556,1.5,0.191,1.865 c-0.375,0.375-0.980,
                            0.212-1.529-0.336c-0.624-0.624-0.990-1.395-1.172-2.020l-1.414,0.838c0.164,0.566,0.606,1.373,1.230,2.037 L6.350,18.794l0.941,0.942l0.991-0.990c1.307,0.922,2.625,0.798,3.480-0.057c0.875-0.877,0.952-1.857,0.202-3.414 c-0.520-1.116-0.645-1.664-0.337-1.971c0.270-0.270,0.750-0.347,1.375,0.278c0.693,0.693,0.923,1.366,1.048,1.722L15.426,14.507z"></path>
                        </g>
                    </g>
                </svg>
                <p>{{ product.price }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
</body>
</html>

<h2>Today, we proudly offer a selection of {{ products_count }} fantastic products at PatPat Pet Shop!</h2>
<table class="rounded-table">
    <tr>
        <th>Product</th>
        <th>Price</th>
        <th>Amount</th>
        <th>Description</th>
        <th>Pet</th>
        <th>Increase</th> <!-- Tambahkan kolom Action -->
        <th>Decrease</th>
        <th>Delete Product</th>
        <th>Edit</th>
    </tr>

    {% comment %} Berikut cara memperlihatkan data produk di bawah baris ini {% endcomment %}

    {% for product in products %}
        <tr class="add-colortext">
            <td>{{ product.product }}</td>
            <td>{{ product.price }}</td>
            <td>{{ product.amount }}</td>
            <td>{{ product.description }}</td>
            <td>{{ product.pet }}</td>
            <td>
                <form action="{% url 'main:add_product' product.id %}" method="post">
                    {% csrf_token %}
                    <button style="background-color: green; color: #fff; font-weight: bolder; border: none; padding: 5px 10px; border-radius: 20px; cursor: pointer;" type="submit" name="Tambah">
                        +
                    </button>
                </form>
            </td>
            <td>
                <form action="{% url 'main:decrement_product' product.id %}" method="post">
                    {% csrf_token %}
                    <button style="background-color: orange; color: #fff; font-weight: bolder; border: none; padding: 5px 10px; border-radius: 20px; cursor: pointer;" type="submit" name="Kurang">
                        -
                    </button>
                </form>
            </td>
            <td>
                <form action="{% url 'main:remove_product' product.id %}" method="post">
                    {% csrf_token %}
                    <button style="background-color: transparent; border: none; cursor: pointer;" type="submit" name="Hapus">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30" viewBox="0 0 30 30">
                            <path d="M6 8v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8H6zM24 4h-6c0-.6-.4-1-1-1h-4c-.6 0-1 .4-1 1H6C5.4 4 5 4.4 5 5s.4 1 1 1h18c.6 0 1-.4 1-1S24.6 4 24 4z" fill="#FF0000"></path>
                        </svg>
                    </button>
                </form>
            </td>    
    
            <td>
                <a href="/edit-product/{{product.pk}}">
                    <button>
                        Edit
                    </button>
                </a>
            </td>    
        </tr>
    {% endfor %}
</table>

<div class="add-product-button">
    <a href="{% url 'main:create_product' %}">
        <button>
            Add New Product
        </button>
    </a>
</div>

<h5>Sesi terakhir login: {{ last_login }}</h5>

<div class="logout-button">
    <a href="{% url 'main:logout' %}">
        <button>
            Logout
        </button>
    </a>
</div>
{% endblock content %}
